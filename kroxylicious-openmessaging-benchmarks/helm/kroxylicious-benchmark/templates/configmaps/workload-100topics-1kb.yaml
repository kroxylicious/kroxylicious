#
# Copyright Kroxylicious Authors.
#
# Licensed under the Apache Software License version 2.0, available at http://www.apache.org/licenses/LICENSE-2.0
#

apiVersion: v1
kind: ConfigMap
metadata:
  name: omb-workload-100topics-1kb
  labels:
    app: omb-benchmark
data:
  workload.yaml: |
    # OpenMessaging Benchmark Workload Definition
    # 100 topics with 1KB messages

    name: 100topics-1partition-1kb

    # Topic configuration
    topics: 100
    partitionsPerTopic: 1

    # Message configuration
    messageSize: 1024
    payloadFile: "payload/payload-1Kb.data"

    # Subscription configuration
    subscriptionsPerTopic: 1
    consumerPerSubscription: 1

    # Producer configuration
    producersPerTopic: 1
    producerRate: {{ div .Values.benchmark.producerRate 100 }}

    # Test duration
    testDurationMinutes: {{ .Values.benchmark.testDurationMinutes }}
    warmupDurationMinutes: {{ .Values.benchmark.warmupDurationMinutes }}
